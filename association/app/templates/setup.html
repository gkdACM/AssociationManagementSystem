{% extends 'layout.html' %}
{% block content %}
<h2 class="mb-3">配置中心</h2>
<p>当前数据库：<code>{{ database_url }}</code></p>
<div class="card">
  <div class="card-body">
    <form class="row g-3" method="post">
      <div class="col-md-6">
        <label class="form-label">主机</label>
        <input class="form-control" name="host" required />
      </div>
      <div class="col-md-6">
        <label class="form-label">端口</label>
        <input class="form-control" name="port" value="3306" />
      </div>
      <div class="col-md-4">
        <label class="form-label">用户名</label>
        <input class="form-control" name="user" required />
      </div>
      <div class="col-md-4">
        <label class="form-label">密码</label>
        <input class="form-control" name="password" required />
      </div>
      <div class="col-md-4">
        <label class="form-label">库名</label>
        <input class="form-control" name="dbname" required />
      </div>
      <div class="col-12">
        <button class="btn btn-primary" type="submit">保存</button>
      </div>
    </form>
  </div>
 </div>
<p class="mt-3 text-muted">保存后重启服务器以应用新配置。</p>

<div class="card mt-4">
  <div class="card-header">创建管理员账号</div>
  <div class="card-body">
    <form class="row g-3" method="post">
      <div class="col-md-4"><label class="form-label">姓名</label><input class="form-control" name="admin_name" required /></div>
      <div class="col-md-4"><label class="form-label">学号</label><input class="form-control" name="admin_student_id" required /></div>
      <div class="col-md-4"><label class="form-label">班级</label><input class="form-control" name="admin_class_name" required /></div>
      <div class="col-md-3"><label class="form-label">性别</label>
        <select class="form-select" name="admin_gender" required>
          <option value="男">男</option>
          <option value="女">女</option>
          <option value="其他">其他</option>
        </select>
      </div>
      <div class="col-md-3"><label class="form-label">年级</label><input class="form-control" name="admin_grade" required /></div>
      <div class="col-md-3"><label class="form-label">手机号</label><input class="form-control" name="admin_phone" /></div>
      <div class="col-md-3"><label class="form-label">邮箱</label><input class="form-control" name="admin_email" /></div>
      <div class="col-md-6"><label class="form-label">密码</label><input class="form-control" type="password" name="admin_password" required /></div>
      <div class="col-12"><button class="btn btn-primary" type="submit">创建管理员</button></div>
    </form>
  </div>
 </div>
{% endblock %}
