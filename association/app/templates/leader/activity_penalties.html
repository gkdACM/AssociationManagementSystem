{% extends 'layout.html' %}
{% block content %}
<div class="page-table-white">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="m-0 page-title">活动扣分：{{ activity.name }}</h2>
  </div>
  {% if success %}<div class="alert alert-success">{{ success }}</div>{% endif %}
  <form method="post">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
    <div class="table-responsive">
      <table class="table table-striped align-middle">
        <thead>
          <tr><th>学号</th><th>姓名</th><th>缺席(-2)</th><th>未达标(-1)</th></tr>
        </thead>
        <tbody>
        {% for ap in apps %}
          <tr>
            <td>{{ ap.user.student_id if ap.user else '' }}</td>
            <td>{{ ap.user.name if ap.user else '' }}</td>
            <td><input type="checkbox" name="absent_{{ ap.id }}" /></td>
            <td><input type="checkbox" name="failed_{{ ap.id }}" /></td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
    <button class="btn btn-primary" type="submit">提交扣分</button>
  </form>
</div>
{% endblock %}
